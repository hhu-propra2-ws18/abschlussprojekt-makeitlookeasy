<!DOCTYPE html>
<html lang="en" xmlns:="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="navbar">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="/">
        <img src="/img/mainpage/logoOhneSchrift.jpg" style="width: 50px;">Ausleiherino24</img>
      </a>
      <form action="/search" method="get">
        <div class="container h-100">
          <div class="d-flex justify-content-center h-100">
            <div class="searchbar">
              <input class="search_input" type="text" name="searchstr" placeholder="Search...">
              <a href="#" class="search_icon"><i class="fa fa-search"></i></a>
            </div>
          </div>
        </div>
      </form>
      <button aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"
              class="navbar-toggler" data-target="#navbarResponsive" data-toggle="collapse"
              type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse " id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li>
            <ul class="nav navbar-nav navbar-right" th:unless='${user.role.equals("")}'>
              <li>
                <div class="text-white" style="margin-top:7px;margin-left:5px;margin-right:5px"
                     th:text="${user.getUsername()}">
                  Logged in as User
                </div>
              </li>
              <!--<li><a href="/login?logout" class="text-white"><div style="margin-top:7px;margin-left:5px;margin-right:5px">
              <i class="fa fa-user "></i></div></a></li> -->
              <div class="dropdown show">
                <button aria-expanded="true" class="btn btn-link dropdown-toggle text-white"
                        data-toggle="dropdown" type="button">
                  <i class="fa fa-cog"></i>
                </button>
                <div class="dropdown-menu " role="menu">
                  <a class="dropdown-item" role="prsentation" th:href="@{~/bankAccount}">
                    Bank Account <i class="fa fa-money"></i></a>
                  <a class="dropdown-item" role="prsentation" th:href="@{~/myOverview}">
                    Overview <i class="fa fa-list"></i></a>
                  <a class="dropdown-item" role="presentation" th:href="@{/newArticle}">Add
                    item <i class="fa fa-plus"></i></a>
                  <a class="dropdown-item"
                     role="presentation"
                     th:href="@{'/profile/' + ${user.getUsername()}}">Profil <i
                      class="fa fa-user"></i></a>
                  <a class="dropdown-item" role="presentation" th:if="${user.role.equals('admin')}"
                     th:href="@{~/conflicts}">Conflicts<i class="fa fa-plus"></i></a>
                  <a class="dropdown-item" href="/logout" role="presentation">Logout  <i
                      class="fa fa-sign-out"></i></a>
                </div>
              </div>
            </ul>
            <ul class="nav navbar-nav navbar-right" th:if='${user.role.equals("")}'>
              <li><a class="text-white" href="/login">
                <div style="margin-top:7px;margin-left:5px;margin-right:5px"><i
                    class="fa fa-user-plus "> Login</i></div>
              </a></li>
              <li><a class="text-white" href="/signup">
                <div style="margin-top:7px;margin-left:5px;margin-right:5px"><i
                    class="fa fa-sign-in ">
                  Sign-Up</i></div>
              </a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</div>
</html>
